<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customize your umbrella</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>

<body>
    <div class="nav">
        <h1>Customise your Umbrella</h1>
    </div>
    <div class="main">
        <div class="sub-main">
            <div class="container c1">
                <div class="umbrella-main" >
                    <div class="umbrella-1 umb" id="u1">
                        <div class="bolt"></div>
                        <div class="triangle" data-triangle-id="1">
                            <div class="tri-in ts">
                                <div class="logo-div">
                                    <!-- <img src="Frame 155.png" alt=""> -->
                                </div>
                            </div>
                        </div>
                        <div class="triangle" style="transform: rotate(45deg);" data-triangle-id="2">
                            <div class="tri-in tp">
                                <div class="logo-div">
                                    <!-- <img src="" alt=""> -->
                                </div>
                            </div>
                        </div>
                        <div class="triangle" style="transform: rotate(90deg);" data-triangle-id="3">
                            <div class="tri-in ts">
                                <div class="logo-div">
                                    <!-- <img src="logo.svg" alt=""> -->
                                </div>
                            </div>
                        </div>
                        <div class="triangle" style="transform: rotate(135deg);" data-triangle-id="4">
                            <div class="tri-in tp">
                                <div class="logo-div">
                                    <!-- <img src="" alt=""> -->
                                </div>
                            </div>
                        </div>
                        <div class="triangle" style="transform: rotate(180deg);" data-triangle-id="5">
                            <div class="tri-in ts">
                                <div class="logo-div">
                                    <!-- <img src="logo.svg" alt=""> -->
                                </div>
                            </div>
                        </div>
                        <div class="triangle" style="transform: rotate(225deg);" data-triangle-id="6">
                            <div class="tri-in tp">
                                <div class="logo-div">
                                    <!-- <img src="" alt=""> -->
                                </div>
                            </div>
                        </div>
                        <div class="triangle" style="transform: rotate(270deg);" data-triangle-id="7">
                            <div class="tri-in ts">
                                <div class="logo-div">
                                    <!-- <img src="logo.svg" alt=""> -->
                                </div>
                            </div>
                        </div>
                        <div class="triangle" style="transform: rotate(315deg);" data-triangle-id="8">
                            <div class="tri-in tp">
                                <div class="logo-div">
                                    <!-- <img src="" alt=""> -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="umbrella-2 umb" id="u2">
                        <div class="bolt"></div>
                        <div class="petal">
                            <div class="triangle" data-triangle-id="9">
                                <div class="tri-in ts">
                                    <div class="logo-div">
                                        <!-- <img src="" alt=""> -->
                                    </div>
                                </div>
                            </div>
                            <div class="tail ts">
                                <!-- <img src="logo.svg" alt=""> -->
                            </div>
                        </div>
                        <div class="petal" style="transform: rotate(45deg)">
                            <div class="triangle" data-triangle-id="10">
                                <div class="tri-in tp">
                                    <div class="logo-div">
                                        <!-- <img src="" alt=""> -->
                                    </div>
                                </div>
                            </div>
                            <div class="tail tp"></div>
                        </div>
                        <div class="petal" style="transform: rotate(90deg)">
                            <div class="triangle" data-triangle-id="11">
                                <div class="tri-in ts">
                                    <div class="logo-div">
                                        <!-- <img src="" alt=""> -->
                                    </div>
                                </div>
                            </div>
                            <div class="tail ts"></div>
                        </div>
                        <div class="petal" style="transform: rotate(135deg)">
                            <div class="triangle" data-triangle-id="12">
                                <div class="tri-in tp">
                                    <div class="logo-div">
                                        <!-- <img src="" alt=""> -->
                                    </div>
                                </div>
                            </div>
                            <div class="tail tp"></div>
                        </div>
                        <div class="petal" style="transform: rotate(180deg)">
                            <div class="triangle" data-triangle-id="13">
                                <div class="tri-in ts">
                                    <div class="logo-div">
                                        <!-- <img src="" alt=""> -->
                                    </div>
                                </div>
                            </div>
                            <div class="tail ts"></div>
                        </div>
                        <div class="petal" style="transform: rotate(225deg)">
                            <div class="triangle" data-triangle-id="14">
                                <div class="tri-in tp">
                                    <div class="logo-div">
                                        <!-- <img src="" alt=""> -->
                                    </div>
                                </div>
                            </div>
                            <div class="tail tp"></div>
                        </div>
                        <div class="petal" style="transform: rotate(270deg)">
                            <div class="triangle" data-triangle-id="15">
                                <div class="tri-in ts">
                                    <div class="logo-div">
                                        <!-- <img src="" alt=""> -->
                                    </div>
                                </div>
                            </div>
                            <div class="tail ts"></div>
                        </div>
                        <div class="petal" style="transform: rotate(315deg)">
                            <div class="triangle" data-triangle-id="16">
                                <div class="tri-in tp">
                                    <div class="logo-div">
                                        <!-- <img src="" alt=""> -->
                                    </div>
                                </div>
                            </div>
                            <div class="tail tp"></div>
                        </div>
                    </div>
                </div>
                <form class="select" id="u_select">
                    <label class="se-radio">
                        <input type="radio" name="radioname" value="u1" checked="checked" />
                        <div class="se">
                            <img src="assets/img/u1.jpeg" alt="">
                        </div>
                    </label>
                    <label class="se-radio">
                        <input type="radio" name="radioname" value="u2" />
                        <div class="se">
                            <img src="assets/img/u2.jpeg" alt="">
                        </div>
                    </label>
                </form>
            </div>
            <div class="button-div">
                <button class="download_button btn-primary" id="dw_bt">Download</button>
            </div>

        </div>
    </div>
    </div>

    <div id="floatingDiv">
        <form id="form">
            <div class="color-flex" style="margin:0 0 10px 0;width: 100%;">
                <input type="color" id="color">
                <input type="text" name="colo" id="color-inbox" maxlength="7">
            </div>
            <!-- upload-button -->
            <div class="upload">
                <button class="change-file-btn" id="cf-btn">Remove Image</button>
                <input type="file" id="fileInput" name="logo" accept="image/*">
            </div>
            <!-- upload-button -->
            <div class="upload" id="upload-2" style="margin: 10px 0 0 0">
                <button class="change-file-btn" id="cf-btn-2">Remove Image</button>
                <input type="file" id="fileInput-2" name="subImage" accept="image/*">
            </div>

            <!-- <div class="upload upload-2">
                <input type="file" id="fileInput" name="logo" accept="image/*"
                    onchange="changeLogo(this, currentTriangle.dataset.triangleId)">
            </div> -->

        </form>
    </div>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/dom-to-image.js"></script>
    <script>
        var ticket = document.getElementsByClassName("umbrella-main")[0];
        var DownloadButton = document.getElementById("dw_bt");
        DownloadButton.addEventListener("click", () => {
            domtoimage.toPng(ticket).then((data) => {
                var link = document.createElement("a");
                link.download = "Umbrella.png"
                link.href = data;
                link.click();
            })
        })
    </script>

    <script>
        /*var floatingDiv = document.getElementById('floatingDiv');
        var form = document.getElementById('form');
    
        document.addEventListener('click', function(event) {
            if (event.button === 0) {
                // Calculate the position of the floating div based on the mouse coordinates
                var leftPos = event.clientX + 'px';
                var topPos = event.clientY + 'px';
        
                // Adjust the position to keep the div within the viewport
                var viewportWidth = window.innerWidth || document.documentElement.clientWidth;
                var viewportHeight = window.innerHeight || document.documentElement.clientHeight;
        
                var divWidth = floatingDiv.offsetWidth;
                var divHeight = floatingDiv.offsetHeight;
        
                if (event.clientX + divWidth > viewportWidth) {
                    leftPos = (viewportWidth - divWidth) + 'px';
                }
        
                if (event.clientY + divHeight > viewportHeight) {
                    topPos = (viewportHeight - divHeight) + 'px';
                }
        
                // Set the position of the floating div
                floatingDiv.style.left = leftPos;
                floatingDiv.style.top = topPos;
        
                // Show the floating div
                floatingDiv.style.display = 'block';
        
                // Show the form inside the floating div
                form.style.display = 'block';
            }
        });
    
        form.addEventListener('submit', function(event) {
            event.preventDefault();
    
            // Hide the floating div and form
            floatingDiv.style.display = 'none';
            form.style.display = 'none';
        });
    
        floatingDiv.addEventListener('click', function(event) {
            // Stop the click event propagation to prevent the div from moving
            event.stopPropagation();
        });
        
        document.addEventListener('click', function(event) {
            if (event.button === 0) {
                // Calculate and set the position of the floating div as before
                // ...
        
                // Show the floating div
                floatingDiv.style.display = 'block';
        
                // Show the form inside the floating div
                form.style.display = 'block';
            }
        });*/
    </script>

    <script src="assets/js/floatingDiv.js"></script>
</body>

</html>